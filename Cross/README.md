### 玩法服

#### 进入房间
进入在玩法服中已有的房间：
游戏服从Redis中获取已经创建的房间列表，并选一个roomId走进房流程
自建房间：
游戏服从Redis中获得全局id作为roomId走进房流程

调用PlayerActor#crossToServer通过serverId连接指定玩法服
在玩法服Cross的channel(此channel是Server端)绑定的MessageActor为CrossPlayerActor
在游戏服Server端的channel(此channel是Client端)绑定的MessageActor为玩家本身的PlayerActor

游戏服playerActor调用fireCrossEvent触发EnterRoomCrossEvent事件
玩法服处理EnterRoomCrossEvent，获取对应Room并且Player对象进入房间



```
游戏服：
Server端的PlayerActor销毁时（UserOnlineManager#destroyPlayer），会触发PlayerActor对Cross端的连接断开，
会触发在PlayerCrossConnector创建时注册的关闭监听，移除Server端跨服状态。而Cross端也监听了连接断开，会处理退出跨服逻辑（如退出房间）。

玩法服：
channelActive:
实例化DSession并且绑定当前channel，同时注册channel的关闭监听[channel关闭会调用DSession的close方法(玩法服断开连接也是调用此方法走登出流程)]
同时channel也绑定DSession
channel绑定MessageActor(具体类型在启动类参数中指定),玩法服直接创建CrossPlayerActor且绑定DSession
即每次连接成功都是新的DSession和CrossPlayerActor

CrossPlayerActor在创建时给DSession注册关闭监听[触发CrossActorLogoutEvent事件(在DSession的close方法中调用)]
SceneService在鉴权后创建玩法服Player对象，CrossPlayerActor绑定Player

游戏服玩家与玩法服重连处理：
游戏服玩家连接与玩法服连接断开即会退出跨服状态，没有重连操作。只有客户端与游戏服之间重连，会通知玩法服玩家重连了。
在玩家断线期间，游戏服与玩法服仍然会保持连接，直到玩家重连或玩家销毁。

```